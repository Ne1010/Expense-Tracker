{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neha\\\\OneDrive\\\\Desktop\\\\Billing-Site\\\\frontend\\\\src\\\\components\\\\ExpenseForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './styles.css';\n\n// Configure axios defaults\naxios.defaults.baseURL = 'http://localhost:8000'; // Update this to match your Django server port\naxios.defaults.withCredentials = true;\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== '') {\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      if (cookie.startsWith(name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\nconst ExpenseForm = ({\n  titleId,\n  isAdmin,\n  onClose\n}) => {\n  const [formData, setFormData] = useState({\n    master_group: '',\n    subgroup: '',\n    amount: '',\n    currency: 'CAD',\n    date: '',\n    status: 'pending',\n    comments: '',\n    attachment: null\n  });\n  const [subgroups, setSubgroups] = useState([]);\n  const [error, setError] = useState('');\n  const masterGroups = {\n    TRAVEL: ['TICKET', 'FOOD', 'HOSPITALITY'],\n    OFFICE_SUPPLIES: ['EQUIPMENT', 'STATIONERY'],\n    UTILITIES: ['INTERNET', 'ELECTRICITY']\n  };\n  const currencies = ['CAD', 'USD', 'EUR', 'GBP', 'INR'];\n  useEffect(() => {\n    if (formData.master_group) {\n      setSubgroups(masterGroups[formData.master_group]);\n    }\n  }, [formData.master_group]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(''); // Clear any previous errors\n\n    const csrftoken = getCookie('csrftoken');\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setError('Authentication token not found. Please log in again.');\n      return;\n    }\n    if (!csrftoken) {\n      setError('CSRF token not found. Please refresh the page and try again.');\n      return;\n    }\n    const formDataToSend = new FormData();\n\n    // Add all form fields\n    Object.keys(formData).forEach(key => {\n      if (key !== 'attachment' && formData[key] !== null && formData[key] !== '') {\n        formDataToSend.append(key, formData[key]);\n      }\n    });\n\n    // Add attachment if exists\n    if (formData.attachment) {\n      formDataToSend.append('attachment', formData.attachment);\n    }\n\n    // Add expense title ID and status\n    formDataToSend.append('expense_title_id', titleId);\n    formDataToSend.append('status', formData.status.toUpperCase());\n    formDataToSend.append('comments', formData.comments || '');\n    try {\n      const response = await axios.post('/api/expense-forms/', formDataToSend, {\n        headers: {\n          'X-CSRFToken': csrftoken,\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        },\n        withCredentials: true\n      });\n      if (response.data) {\n        console.log('Form submitted successfully:', response.data);\n        onClose();\n      } else {\n        setError('Failed to create expense form. Server returned no data.');\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Error submitting form:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        setError('Session expired. Please log in again.');\n      } else if (error.response) {\n        console.error('Error response:', error.response.data);\n        setError(error.response.data.detail || 'Failed to create expense form. Please try again.');\n      } else if (error.request) {\n        console.error('No response received:', error.request);\n        setError('No response from server. Please check your connection and try again.');\n      } else {\n        console.error('Error setting up request:', error.message);\n        setError('Error setting up request. Please try again.');\n      }\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (name === 'attachment') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files[0]\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, \"Master Group\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"master_group\",\n    value: formData.master_group,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, \"Select Master Group\"), Object.keys(masterGroups).map(group => /*#__PURE__*/React.createElement(\"option\", {\n    key: group,\n    value: group,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, group.replace('_', ' '))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, \"Subgroup\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"subgroup\",\n    value: formData.subgroup,\n    onChange: handleChange,\n    required: true,\n    disabled: !formData.master_group,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, \"Select Subgroup\"), subgroups.map(subgroup => /*#__PURE__*/React.createElement(\"option\", {\n    key: subgroup,\n    value: subgroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, subgroup.replace('_', ' ')))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"amount\",\n    value: formData.amount,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, \"Currency\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"currency\",\n    value: formData.currency,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, currencies.map(currency => /*#__PURE__*/React.createElement(\"option\", {\n    key: currency,\n    value: currency,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, currency))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"date\",\n    value: formData.date,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"status\",\n    value: formData.status,\n    onChange: handleChange,\n    disabled: !isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"pending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, \"Pending\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"approved\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, \"Approved\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"rejected\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, \"Rejected\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"comments\",\n    value: formData.comments,\n    onChange: handleChange,\n    disabled: !isAdmin,\n    placeholder: isAdmin ? \"Enter comments...\" : \"Comments will be added by admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, \"Attachment\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"attachment\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, isAdmin ? 'Update' : 'Submit'), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n};\nexport default ExpenseForm;","map":{"version":3,"names":["React","useState","useEffect","axios","defaults","baseURL","withCredentials","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","startsWith","decodeURIComponent","substring","ExpenseForm","titleId","isAdmin","onClose","formData","setFormData","master_group","subgroup","amount","currency","date","status","comments","attachment","subgroups","setSubgroups","error","setError","masterGroups","TRAVEL","OFFICE_SUPPLIES","UTILITIES","currencies","handleSubmit","e","preventDefault","csrftoken","token","localStorage","getItem","formDataToSend","FormData","Object","keys","forEach","key","append","toUpperCase","response","post","headers","data","console","log","_error$response","detail","request","message","handleChange","value","files","target","prev","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","map","group","replace","disabled","type","placeholder","onClick"],"sources":["C:/Users/Neha/OneDrive/Desktop/Billing-Site/frontend/src/components/ExpenseForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './styles.css';\n\n// Configure axios defaults\naxios.defaults.baseURL = 'http://localhost:8000';  // Update this to match your Django server port\naxios.defaults.withCredentials = true;\n\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith(name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nconst ExpenseForm = ({ titleId, isAdmin, onClose }) => {\n  const [formData, setFormData] = useState({\n    master_group: '',\n    subgroup: '',\n    amount: '',\n    currency: 'CAD',\n    date: '',\n    status: 'pending',\n    comments: '',\n    attachment: null\n  });\n\n  const [subgroups, setSubgroups] = useState([]);\n  const [error, setError] = useState('');\n\n  const masterGroups = {\n    TRAVEL: ['TICKET', 'FOOD', 'HOSPITALITY'],\n    OFFICE_SUPPLIES: ['EQUIPMENT', 'STATIONERY'],\n    UTILITIES: ['INTERNET', 'ELECTRICITY']\n  };\n\n  const currencies = ['CAD', 'USD', 'EUR', 'GBP', 'INR'];\n\n  useEffect(() => {\n    if (formData.master_group) {\n      setSubgroups(masterGroups[formData.master_group]);\n    }\n  }, [formData.master_group]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(''); // Clear any previous errors\n    \n    const csrftoken = getCookie('csrftoken');\n    const token = localStorage.getItem('token');\n    \n    if (!token) {\n      setError('Authentication token not found. Please log in again.');\n      return;\n    }\n\n    if (!csrftoken) {\n      setError('CSRF token not found. Please refresh the page and try again.');\n      return;\n    }\n\n    const formDataToSend = new FormData();\n    \n    // Add all form fields\n    Object.keys(formData).forEach(key => {\n      if (key !== 'attachment' && formData[key] !== null && formData[key] !== '') {\n        formDataToSend.append(key, formData[key]);\n      }\n    });\n\n    // Add attachment if exists\n    if (formData.attachment) {\n      formDataToSend.append('attachment', formData.attachment);\n    }\n\n    // Add expense title ID and status\n    formDataToSend.append('expense_title_id', titleId);\n    formDataToSend.append('status', formData.status.toUpperCase());\n    formDataToSend.append('comments', formData.comments || '');\n\n    try {\n      const response = await axios.post('/api/expense-forms/', formDataToSend, {\n        headers: {\n          'X-CSRFToken': csrftoken,\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data',\n        },\n        withCredentials: true\n      });\n\n      if (response.data) {\n        console.log('Form submitted successfully:', response.data);\n        onClose();\n      } else {\n        setError('Failed to create expense form. Server returned no data.');\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      if (error.response?.status === 401) {\n        setError('Session expired. Please log in again.');\n      } else if (error.response) {\n        console.error('Error response:', error.response.data);\n        setError(error.response.data.detail || 'Failed to create expense form. Please try again.');\n      } else if (error.request) {\n        console.error('No response received:', error.request);\n        setError('No response from server. Please check your connection and try again.');\n      } else {\n        console.error('Error setting up request:', error.message);\n        setError('Error setting up request. Please try again.');\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n    if (name === 'attachment') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files[0]\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <form onSubmit={handleSubmit}>\n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Master Group</label>\n            <select\n              name=\"master_group\"\n              value={formData.master_group}\n              onChange={handleChange}\n              required\n            >\n              <option value=\"\">Select Master Group</option>\n              {Object.keys(masterGroups).map(group => (\n                <option key={group} value={group}>{group.replace('_', ' ')}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Subgroup</label>\n            <select\n              name=\"subgroup\"\n              value={formData.subgroup}\n              onChange={handleChange}\n              required\n              disabled={!formData.master_group}\n            >\n              <option value=\"\">Select Subgroup</option>\n              {subgroups.map(subgroup => (\n                <option key={subgroup} value={subgroup}>{subgroup.replace('_', ' ')}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Amount</label>\n            <input\n              type=\"number\"\n              name=\"amount\"\n              value={formData.amount}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Currency</label>\n            <select\n              name=\"currency\"\n              value={formData.currency}\n              onChange={handleChange}\n              required\n            >\n              {currencies.map(currency => (\n                <option key={currency} value={currency}>{currency}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Date</label>\n            <input\n              type=\"date\"\n              name=\"date\"\n              value={formData.date}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Status</label>\n            <select\n              name=\"status\"\n              value={formData.status}\n              onChange={handleChange}\n              disabled={!isAdmin}\n            >\n              <option value=\"pending\">Pending</option>\n              <option value=\"approved\">Approved</option>\n              <option value=\"rejected\">Rejected</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Comments</label>\n          <textarea\n            name=\"comments\"\n            value={formData.comments}\n            onChange={handleChange}\n            disabled={!isAdmin}\n            placeholder={isAdmin ? \"Enter comments...\" : \"Comments will be added by admin\"}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Attachment</label>\n          <input\n            type=\"file\"\n            name=\"attachment\"\n            onChange={handleChange}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <button type=\"submit\">\n            {isAdmin ? 'Update' : 'Submit'}\n          </button>\n          <button \n            type=\"button\" \n            onClick={onClose} \n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ExpenseForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}