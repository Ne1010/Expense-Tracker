{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neha\\\\OneDrive\\\\Desktop\\\\Billing-Site\\\\frontend\\\\src\\\\components\\\\ExpenseForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './styles.css';\n\n// Configure axios defaults\naxios.defaults.baseURL = 'http://localhost:8000'; // Update this to match your Django server port\naxios.defaults.withCredentials = true;\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== '') {\n    const cookies = document.cookie.split(';');\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      if (cookie.startsWith(name + '=')) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\nconst ExpenseForm = ({\n  titleId,\n  isAdmin,\n  onClose\n}) => {\n  const [formData, setFormData] = useState({\n    master_group: '',\n    subgroup: '',\n    amount: '',\n    currency: '',\n    date: '',\n    status: 'pending',\n    comments: '',\n    attachment: null\n  });\n  const [subgroups, setSubgroups] = useState([]);\n  const [error, setError] = useState('');\n  const masterGroups = {\n    TRAVEL: ['TICKET', 'FOOD', 'HOSPITALITY'],\n    OFFICE_SUPPLIES: ['EQUIPMENT', 'STATIONERY'],\n    UTILITIES: ['INTERNET', 'ELECTRICITY']\n  };\n  const currencies = ['USD', 'EUR', 'GBP', 'INR'];\n  useEffect(() => {\n    if (formData.master_group) {\n      setSubgroups(masterGroups[formData.master_group]);\n    }\n  }, [formData.master_group]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(''); // Clear any previous errors\n\n    const csrftoken = getCookie('csrftoken');\n    if (!csrftoken) {\n      setError('CSRF token not found. Please refresh the page and try again.');\n      return;\n    }\n    const formDataToSend = new FormData();\n\n    // Add all form fields\n    Object.keys(formData).forEach(key => {\n      if (key !== 'attachment' && formData[key] !== null && formData[key] !== '') {\n        formDataToSend.append(key, formData[key]);\n      }\n    });\n\n    // Add attachment if exists\n    if (formData.attachment) {\n      formDataToSend.append('attachment', formData.attachment);\n    }\n\n    // Add expense title ID and status\n    formDataToSend.append('expense_title_id', titleId);\n    formDataToSend.append('status', formData.status.toUpperCase());\n\n    // Log the form data being sent\n    console.log('Sending form data:', {\n      master_group: formData.master_group,\n      subgroup: formData.subgroup,\n      amount: formData.amount,\n      currency: formData.currency,\n      date: formData.date,\n      status: formData.status,\n      expense_title_id: titleId\n    });\n    try {\n      const response = await axios.post('/api/expense-forms/', formDataToSend, {\n        headers: {\n          'X-CSRFToken': csrftoken,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.data) {\n        console.log('Form submitted successfully:', response.data);\n        onClose();\n      } else {\n        setError('Failed to create expense form. Server returned no data.');\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.error('Error response:', error.response.data);\n        setError(error.response.data.detail || 'Failed to create expense form. Please try again.');\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.error('No response received:', error.request);\n        setError('No response from server. Please check your connection and try again.');\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error setting up request:', error.message);\n        setError('Error setting up request. Please try again.');\n      }\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (name === 'attachment') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files[0]\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Master Group\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"master_group\",\n    value: formData.master_group,\n    onChange: handleChange,\n    required: true,\n    disabled: isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, \"Select Master Group\"), Object.keys(masterGroups).map(group => /*#__PURE__*/React.createElement(\"option\", {\n    key: group,\n    value: group,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, group.replace('_', ' '))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Subgroup\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"subgroup\",\n    value: formData.subgroup,\n    onChange: handleChange,\n    required: true,\n    disabled: !formData.master_group || isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \"Select Subgroup\"), subgroups.map(subgroup => /*#__PURE__*/React.createElement(\"option\", {\n    key: subgroup,\n    value: subgroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, subgroup.replace('_', ' ')))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"amount\",\n    value: formData.amount,\n    onChange: handleChange,\n    required: true,\n    disabled: isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"Currency\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"currency\",\n    value: formData.currency,\n    onChange: handleChange,\n    required: true,\n    disabled: isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, \"Select Currency\"), currencies.map(currency => /*#__PURE__*/React.createElement(\"option\", {\n    key: currency,\n    value: currency,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, currency))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"date\",\n    value: formData.date,\n    onChange: handleChange,\n    required: true,\n    disabled: isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"status\",\n    value: formData.status,\n    onChange: handleChange,\n    disabled: !isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"pending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, \"Pending\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"approved\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, \"Approved\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"rejected\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  }, \"Rejected\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"comments\",\n    value: formData.comments,\n    onChange: handleChange,\n    disabled: !isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, \"Attachment\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"attachment\",\n    onChange: handleChange,\n    disabled: isAdmin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, isAdmin ? 'Update' : 'Submit'), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n};\nexport default ExpenseForm;","map":{"version":3,"names":["React","useState","useEffect","axios","defaults","baseURL","withCredentials","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","startsWith","decodeURIComponent","substring","ExpenseForm","titleId","isAdmin","onClose","formData","setFormData","master_group","subgroup","amount","currency","date","status","comments","attachment","subgroups","setSubgroups","error","setError","masterGroups","TRAVEL","OFFICE_SUPPLIES","UTILITIES","currencies","handleSubmit","e","preventDefault","csrftoken","formDataToSend","FormData","Object","keys","forEach","key","append","toUpperCase","console","log","expense_title_id","response","post","headers","data","detail","request","message","handleChange","value","files","target","prev","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","disabled","map","group","replace","type","onClick"],"sources":["C:/Users/Neha/OneDrive/Desktop/Billing-Site/frontend/src/components/ExpenseForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './styles.css';\n\n// Configure axios defaults\naxios.defaults.baseURL = 'http://localhost:8000';  // Update this to match your Django server port\naxios.defaults.withCredentials = true;\n\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith(name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nconst ExpenseForm = ({ titleId, isAdmin, onClose }) => {\n  const [formData, setFormData] = useState({\n    master_group: '',\n    subgroup: '',\n    amount: '',\n    currency: '',\n    date: '',\n    status: 'pending',\n    comments: '',\n    attachment: null\n  });\n\n  const [subgroups, setSubgroups] = useState([]);\n  const [error, setError] = useState('');\n\n  const masterGroups = {\n    TRAVEL: ['TICKET', 'FOOD', 'HOSPITALITY'],\n    OFFICE_SUPPLIES: ['EQUIPMENT', 'STATIONERY'],\n    UTILITIES: ['INTERNET', 'ELECTRICITY']\n  };\n\n  const currencies = ['USD', 'EUR', 'GBP', 'INR'];\n\n  useEffect(() => {\n    if (formData.master_group) {\n      setSubgroups(masterGroups[formData.master_group]);\n    }\n  }, [formData.master_group]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(''); // Clear any previous errors\n    \n    const csrftoken = getCookie('csrftoken');\n    if (!csrftoken) {\n      setError('CSRF token not found. Please refresh the page and try again.');\n      return;\n    }\n\n    const formDataToSend = new FormData();\n    \n    // Add all form fields\n    Object.keys(formData).forEach(key => {\n      if (key !== 'attachment' && formData[key] !== null && formData[key] !== '') {\n        formDataToSend.append(key, formData[key]);\n      }\n    });\n\n    // Add attachment if exists\n    if (formData.attachment) {\n      formDataToSend.append('attachment', formData.attachment);\n    }\n\n    // Add expense title ID and status\n    formDataToSend.append('expense_title_id', titleId);\n    formDataToSend.append('status', formData.status.toUpperCase());\n\n    // Log the form data being sent\n    console.log('Sending form data:', {\n      master_group: formData.master_group,\n      subgroup: formData.subgroup,\n      amount: formData.amount,\n      currency: formData.currency,\n      date: formData.date,\n      status: formData.status,\n      expense_title_id: titleId\n    });\n\n    try {\n      const response = await axios.post('/api/expense-forms/', formDataToSend, {\n        headers: {\n          'X-CSRFToken': csrftoken,\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      if (response.data) {\n        console.log('Form submitted successfully:', response.data);\n        onClose();\n      } else {\n        setError('Failed to create expense form. Server returned no data.');\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.error('Error response:', error.response.data);\n        setError(error.response.data.detail || 'Failed to create expense form. Please try again.');\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.error('No response received:', error.request);\n        setError('No response from server. Please check your connection and try again.');\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error setting up request:', error.message);\n        setError('Error setting up request. Please try again.');\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n    if (name === 'attachment') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files[0]\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <form onSubmit={handleSubmit}>\n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Master Group</label>\n            <select\n              name=\"master_group\"\n              value={formData.master_group}\n              onChange={handleChange}\n              required\n              disabled={isAdmin}\n            >\n              <option value=\"\">Select Master Group</option>\n              {Object.keys(masterGroups).map(group => (\n                <option key={group} value={group}>{group.replace('_', ' ')}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Subgroup</label>\n            <select\n              name=\"subgroup\"\n              value={formData.subgroup}\n              onChange={handleChange}\n              required\n              disabled={!formData.master_group || isAdmin}\n            >\n              <option value=\"\">Select Subgroup</option>\n              {subgroups.map(subgroup => (\n                <option key={subgroup} value={subgroup}>{subgroup.replace('_', ' ')}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Amount</label>\n            <input\n              type=\"number\"\n              name=\"amount\"\n              value={formData.amount}\n              onChange={handleChange}\n              required\n              disabled={isAdmin}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Currency</label>\n            <select\n              name=\"currency\"\n              value={formData.currency}\n              onChange={handleChange}\n              required\n              disabled={isAdmin}\n            >\n              <option value=\"\">Select Currency</option>\n              {currencies.map(currency => (\n                <option key={currency} value={currency}>{currency}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Date</label>\n            <input\n              type=\"date\"\n              name=\"date\"\n              value={formData.date}\n              onChange={handleChange}\n              required\n              disabled={isAdmin}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Status</label>\n            <select\n              name=\"status\"\n              value={formData.status}\n              onChange={handleChange}\n              disabled={!isAdmin}\n            >\n              <option value=\"pending\">Pending</option>\n              <option value=\"approved\">Approved</option>\n              <option value=\"rejected\">Rejected</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Comments</label>\n          <textarea\n            name=\"comments\"\n            value={formData.comments}\n            onChange={handleChange}\n            disabled={!isAdmin}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Attachment</label>\n          <input\n            type=\"file\"\n            name=\"attachment\"\n            onChange={handleChange}\n            disabled={isAdmin}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <button type=\"submit\">\n            {isAdmin ? 'Update' : 'Submit'}\n          </button>\n          <button \n            type=\"button\" \n            onClick={onClose} \n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ExpenseForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}